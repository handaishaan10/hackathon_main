<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tests</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="test.css" rel="stylesheet">
</head>
<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="studentdash.html">Logo</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item"><a class="nav-link" href="dash.html">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="class.html">Manage</a></li>
          <li class="nav-item"><a class="nav-link" href="test.html">Tests</a></li>
          <li class="nav-item"><a class="nav-link" href="courses.html">Courses</a></li>
        </ul>
        <div class="profile-section">
          <span>abhirajgoat</span>
          <div class="profile-icon"></div>
        </div>
      </div>
    </div>
  </nav>


    <main class="main">
        <div class="container">
            <div class="page-header">
                <h1 class="page-title">Tests</h1>
                <p class="page-description">Create, upload, and assign tests to students.</p>
            </div>

            <div class="tabs">
                <button class="tab-button active" data-tab="create">Create</button>
                <button class="tab-button" data-tab="upload">Upload</button>
                <button class="tab-button" data-tab="assign">Assign</button>
            </div>

            <div id="create-tab" class="tab-content active">
                <div class="card">
                    <div class="form-steps-container">
                        <div id="step-1" class="form-step active">
                            <div class="card-header">
                                <div class="card-header-content">
                                    <h2 class="card-title">Create Test</h2>
                                    <p class="card-description">Enter basic test details</p>
                                </div>
                            </div>
                            <form class="form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="label">Class</label>
                                        <select id="class-select" class="select">
                                            <option>Select a class</option>
                                            <option>Class 10</option>
                                            <option>Class 12</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="label">Due Date</label>
                                        <input type="text" id="due-date" class="input" placeholder="DD-MM-YYYY">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="label">Title</label>
                                    <input type="text" id="title" class="input" placeholder="Enter test title">
                                </div>
                                <div class="form-group">
                                    <label class="label">Description</label>
                                    <textarea id="description" class="textarea" placeholder="Enter test description"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-primary" onclick="goToStep(2)">Next</button>
                                    <button type="button" class="btn btn-secondary">Upload</button>
                                </div>
                            </form>
                        </div>

                        <div id="step-2" class="form-step">
                            <div class="card-header">
                                <div class="card-header-content">
                                    <h2 class="card-title">Create Test</h2>
                                    <p class="card-description">Configure the details</p>
                                </div>
                                <button type="button" class="btn-back" onclick="goToStep(1)" title="Go back">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="19" y1="12" x2="5" y2="12"></line>
                                        <polyline points="12 19 5 12 12 5"></polyline>
                                    </svg>
                                </button>
                            </div>
                            <form class="form">
                                <div class="form-group">
                                    <label class="label">Topic</label>
                                    <select id="topic-select" class="select">
                                        <option>State your test topic...</option>
                                        <option>Mathematics</option>
                                        <option>Science</option>
                                        <option>English</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="label">Difficulty</label>
                                    <select id="difficulty-select" class="select">
                                        <option>Medium</option>
                                        <option>Easy</option>
                                        <option>Hard</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="label">No of Questions (1-50)</label>
                                    <input type="number" id="num-questions" class="input" placeholder="34" min="1" max="50">
                                </div>
                                <div class="form-actions">
                                    <button type="button" class="btn btn-primary" onclick="handleSave()">Save</button>
                                    <button type="button" class="btn btn-secondary" onclick="goToStep(1)">Download</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="upload-tab" class="tab-content">
                <div class="card">
                    <div class="upload-container">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h2 class="card-title">Upload</h2>
                                <p class="card-description">Upload your test files</p>
                            </div>
                            <button type="button" class="btn btn-primary" onclick="addFileInput()">Add</button>
                        </div>

                        <div id="files-list" class="files-list">
                            <div class="file-input-group">
                                <div class="file-input-wrapper">
                                    <input type="text" class="input file-name-input" placeholder="File 1" readonly>
                                    <button type="button" class="btn-remove" onclick="removeFileInput(this)">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="5" y1="12" x2="19" y2="12"></line>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary" style="width: auto; align-self: flex-start;">Save and continue</button>

                        <div id="drop-zone" class="drop-zone">
                            <p class="placeholder-text">PREVIEW</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="assign-tab" class="tab-content">
                <div class="card assign-card">
                    <div class="card-header">
                        <div class="card-header-content">
                            <h2 class="card-title assign-card-title">Test Details</h2>
                            <p class="card-description">Test information</p>
                        </div>
                    </div>
                    <form class="form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="label">Test name</label>
                                <input type="text" class="input" placeholder="Test name">
                            </div>
                            <div class="form-group">
                                <label class="label">Class</label>
                                <select class="select">
                                    <option>Select a class</option>
                                    <option>Class 10</option>
                                    <option>Class 12</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="label">Course Name</label>
                                <select class="select">
                                    <option>Select a course name</option>
                                    <option>Mathematics</option>
                                    <option>Science</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="label">Due Date</label>
                                <input type="text" class="input" placeholder="dd-mm-yyyy">
                            </div>
                        </div>

                        <div class="test-file-info">
                            <p class="label">Test file</p>
                            <div class="file-uploaded-wrapper">
                                <p class="file-name-display">filename.pdf</p>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#737373" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>

                        <div class="student-selection-header">
                            <p class="label">Students</p>
                            <p class="student-selection-instruction">Choose which students to assign to</p>
                            <div class="select-all-wrapper">
                                <input type="checkbox" id="select-all" class="select-all-checkbox">
                                <label for="select-all">Select all</label>
                            </div>
                        </div>

                        <div class="students-list">
                            <div class="student-item selected">
                                <input type="checkbox" id="student-1" class="student-checkbox" checked>
                                <label for="student-1" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-2" class="student-checkbox">
                                <label for="student-2" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-3" class="student-checkbox">
                                <label for="student-3" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-4" class="student-checkbox">
                                <label for="student-4" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-5" class="student-checkbox">
                                <label for="student-5" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-6" class="student-checkbox">
                                <label for="student-6" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-7" class="student-checkbox">
                                <label for="student-7" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-8" class="student-checkbox">
                                <label for="student-8" class="student-label">
                                    <span class="student-name">Abhiraj Cutie</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-9" class="student-checkbox">
                                <label for="student-9" class="student-label">
                                    <span class="student-name">Abhiraj Goat</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div class="student-item">
                                <input type="checkbox" id="student-10" class="student-checkbox">
                                <label for="student-10" class="student-label">
                                    <span class="student-name">Abhiraj Goat</span>
                                    <span class="student-contact">+91 93636000939</span>
                                </label>
                                <svg class="checked-icon" width="20" height="20" viewBox="0 0 24 24" fill="#10B981" stroke="none">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');

            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById(tabName + '-tab').classList.add('active');
                    if (tabName === 'create') {
                        goToStep(1);
                    }
                });
            });

            const selectAllCheckbox = document.getElementById('select-all');
            const studentCheckboxes = document.querySelectorAll('.student-checkbox');

            if(selectAllCheckbox) {
                selectAllCheckbox.addEventListener('change', function() {
                    studentCheckboxes.forEach(checkbox => {
                        checkbox.checked = this.checked;
                        updateStudentItemStyle(checkbox);
                    });
                });
            }

            studentCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateStudentItemStyle(this);
                    const allChecked = Array.from(studentCheckboxes).every(cb => cb.checked);
                    const someChecked = Array.from(studentCheckboxes).some(cb => cb.checked);

                    if (selectAllCheckbox) {
                        selectAllCheckbox.checked = allChecked;
                        selectAllCheckbox.indeterminate = !allChecked && someChecked;
                    }
                });
                updateStudentItemStyle(checkbox);
            });

            function updateStudentItemStyle(checkbox) {
                const studentItem = checkbox.closest('.student-item');
                if (checkbox.checked) {
                    studentItem.classList.add('selected');
                } else {
                    studentItem.classList.remove('selected');
                }
            }
        });

        function goToStep(stepNumber) {
            const steps = document.querySelectorAll('.form-step');
            const currentStep = document.querySelector('.form-step.active');
            const nextStep = document.getElementById('step-' + stepNumber);
            if (!nextStep || nextStep === currentStep) return;
            const isMovingForward = stepNumber > parseInt(currentStep.id.split('-')[1]);
            currentStep.classList.remove('active');
            if (isMovingForward) {
                currentStep.classList.add('exit-left');
            }
            setTimeout(() => {
                nextStep.classList.add('active');
                nextStep.classList.remove('exit-left');
            }, 50);
        }

        function handleSave() {
            const topic = document.getElementById('topic-select').value;
            const difficulty = document.getElementById('difficulty-select').value;
            const numQuestions = document.getElementById('num-questions').value;
            console.log('Saving test configuration:', {
                topic: topic,
                difficulty: difficulty,
                numQuestions: numQuestions
            });
            alert('Test configuration saved!\n\nTopic: ' + topic + '\nDifficulty: ' + difficulty + '\nQuestions: ' + numQuestions);
        }

        function handleCreate() {
            const classSelect = document.getElementById('class-select').value;
            const dueDate = document.getElementById('due-date').value;
            const title = document.getElementById('title').value;
            const description = document.getElementById('description').value;
            console.log('Creating test:', {
                class: classSelect,
                dueDate: dueDate,
                title: title,
                description: description
            });
            alert('Test created successfully!\n\nClass: ' + classSelect + '\nTitle: ' + title);
        }

        document.getElementById('due-date').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.slice(0, 2) + '-' + value.slice(2);
            }
            if (value.length >= 5) {
                value = value.slice(0, 5) + '-' + value.slice(5, 9);
            }
            e.target.value = value;
        });

        function addFileInput() {
            const filesList = document.getElementById('files-list');
            const fileCount = filesList.children.length + 1;
            const newFileInput = document.createElement('div');
            newFileInput.className = 'file-input-group';
            newFileInput.innerHTML = `
                <div class="file-input-wrapper">
                    <input type="text" class="input file-name-input" placeholder="File ${fileCount}" readonly>
                    <button type="button" class="btn-remove" onclick="removeFileInput(this)">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                </div>
            `;
            filesList.appendChild(newFileInput);
        }

        function removeFileInput(button) {
            button.closest('.file-input-group').remove();
        }

        const dropZone = document.getElementById('drop-zone');
        if (dropZone) {
            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.style.backgroundColor = '#f5f5f5';
            });
            dropZone.addEventListener('dragleave', () => {
                dropZone.style.backgroundColor = 'transparent';
            });
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.style.backgroundColor = 'transparent';
                console.log('Files dropped:', e.dataTransfer.files);
            });
        }
    </script>
</body>
</html>